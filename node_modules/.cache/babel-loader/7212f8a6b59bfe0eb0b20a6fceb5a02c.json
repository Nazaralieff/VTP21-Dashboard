{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _addClass = _interopRequireDefault(require(\"dom-helpers/addClass\"));\n\nvar _removeClass = _interopRequireDefault(require(\"dom-helpers/removeClass\"));\n\nvar _width = _interopRequireDefault(require(\"dom-helpers/width\"));\n\nvar _scrollbarSize = _interopRequireDefault(require(\"dom-helpers/scrollbarSize\"));\n\nvar dates = _interopRequireWildcard(require(\"./utils/dates\"));\n\nvar _constants = require(\"./utils/constants\");\n\nvar _eventLevels = require(\"./utils/eventLevels\");\n\nvar _selection = require(\"./utils/selection\");\n\nfunction Agenda(_ref) {\n  var selected = _ref.selected,\n      getters = _ref.getters,\n      accessors = _ref.accessors,\n      localizer = _ref.localizer,\n      components = _ref.components,\n      length = _ref.length,\n      date = _ref.date,\n      events = _ref.events;\n  var headerRef = (0, _react.useRef)(null);\n  var dateColRef = (0, _react.useRef)(null);\n  var timeColRef = (0, _react.useRef)(null);\n  var contentRef = (0, _react.useRef)(null);\n  var tbodyRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    _adjustHeader();\n  });\n\n  var renderDay = function renderDay(day, events, dayKey) {\n    var Event = components.event,\n        AgendaDate = components.date;\n    events = events.filter(function (e) {\n      return (0, _eventLevels.inRange)(e, dates.startOf(day, 'day'), dates.endOf(day, 'day'), accessors);\n    });\n    return events.map(function (event, idx) {\n      var title = accessors.title(event);\n      var end = accessors.end(event);\n      var start = accessors.start(event);\n      var userProps = getters.eventProp(event, start, end, (0, _selection.isSelected)(event, selected));\n      var dateLabel = idx === 0 && localizer.format(day, 'agendaDateFormat');\n      var first = idx === 0 ? _react.default.createElement(\"td\", {\n        rowSpan: events.length,\n        className: \"rbc-agenda-date-cell\"\n      }, AgendaDate ? _react.default.createElement(AgendaDate, {\n        day: day,\n        label: dateLabel\n      }) : dateLabel) : false;\n      return _react.default.createElement(\"tr\", {\n        key: dayKey + '_' + idx,\n        className: userProps.className,\n        style: userProps.style\n      }, first, _react.default.createElement(\"td\", {\n        className: \"rbc-agenda-time-cell\"\n      }, timeRangeLabel(day, event)), _react.default.createElement(\"td\", {\n        className: \"rbc-agenda-event-cell\"\n      }, Event ? _react.default.createElement(Event, {\n        event: event,\n        title: title\n      }) : title));\n    }, []);\n  };\n\n  var timeRangeLabel = function timeRangeLabel(day, event) {\n    var labelClass = '',\n        TimeComponent = components.time,\n        label = localizer.messages.allDay;\n    var end = accessors.end(event);\n    var start = accessors.start(event);\n\n    if (!accessors.allDay(event)) {\n      if (dates.eq(start, end)) {\n        label = localizer.format(start, 'agendaTimeFormat');\n      } else if (dates.eq(start, end, 'day')) {\n        label = localizer.format({\n          start: start,\n          end: end\n        }, 'agendaTimeRangeFormat');\n      } else if (dates.eq(day, start, 'day')) {\n        label = localizer.format(start, 'agendaTimeFormat');\n      } else if (dates.eq(day, end, 'day')) {\n        label = localizer.format(end, 'agendaTimeFormat');\n      }\n    }\n\n    if (dates.gt(day, start, 'day')) labelClass = 'rbc-continues-prior';\n    if (dates.lt(day, end, 'day')) labelClass += ' rbc-continues-after';\n    return _react.default.createElement(\"span\", {\n      className: labelClass.trim()\n    }, TimeComponent ? _react.default.createElement(TimeComponent, {\n      event: event,\n      day: day,\n      label: label\n    }) : label);\n  };\n\n  var _adjustHeader = function _adjustHeader() {\n    if (!tbodyRef.current) return;\n    var header = headerRef.current;\n    var firstRow = tbodyRef.current.firstChild;\n    if (!firstRow) return;\n    var isOverflowing = contentRef.current.scrollHeight > contentRef.current.clientHeight;\n    var _widths = [];\n    var widths = _widths;\n    _widths = [(0, _width.default)(firstRow.children[0]), (0, _width.default)(firstRow.children[1])];\n\n    if (widths[0] !== _widths[0] || widths[1] !== _widths[1]) {\n      dateColRef.current.style.width = _widths[0] + 'px';\n      timeColRef.current.style.width = _widths[1] + 'px';\n    }\n\n    if (isOverflowing) {\n      (0, _addClass.default)(header, 'rbc-header-overflowing');\n      header.style.marginRight = (0, _scrollbarSize.default)() + 'px';\n    } else {\n      (0, _removeClass.default)(header, 'rbc-header-overflowing');\n    }\n  };\n\n  var messages = localizer.messages;\n  var end = dates.add(date, length, 'day');\n  var range = dates.range(date, end, 'day');\n  events = events.filter(function (event) {\n    return (0, _eventLevels.inRange)(event, dates.startOf(date, 'day'), dates.endOf(end, 'day'), accessors);\n  });\n  events.sort(function (a, b) {\n    return +accessors.start(a) - +accessors.start(b);\n  });\n  return _react.default.createElement(\"div\", {\n    className: \"rbc-agenda-view\"\n  }, events.length !== 0 ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"table\", {\n    ref: headerRef,\n    className: \"rbc-agenda-table\"\n  }, _react.default.createElement(\"thead\", null, _react.default.createElement(\"tr\", null, _react.default.createElement(\"th\", {\n    className: \"rbc-header\",\n    ref: dateColRef\n  }, messages.date), _react.default.createElement(\"th\", {\n    className: \"rbc-header\",\n    ref: timeColRef\n  }, messages.time), _react.default.createElement(\"th\", {\n    className: \"rbc-header\"\n  }, messages.event)))), _react.default.createElement(\"div\", {\n    className: \"rbc-agenda-content\",\n    ref: contentRef\n  }, _react.default.createElement(\"table\", {\n    className: \"rbc-agenda-table\"\n  }, _react.default.createElement(\"tbody\", {\n    ref: tbodyRef\n  }, range.map(function (day, idx) {\n    return renderDay(day, events, idx);\n  }))))) : _react.default.createElement(\"span\", {\n    className: \"rbc-agenda-empty\"\n  }, messages.noEventsInRange));\n}\n\nAgenda.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  events: _propTypes.default.array,\n  date: _propTypes.default.instanceOf(Date),\n  length: _propTypes.default.number.isRequired,\n  selected: _propTypes.default.object,\n  accessors: _propTypes.default.object.isRequired,\n  components: _propTypes.default.object.isRequired,\n  getters: _propTypes.default.object.isRequired,\n  localizer: _propTypes.default.object.isRequired\n} : {};\nAgenda.defaultProps = {\n  length: 30\n};\n\nAgenda.range = function (start, _ref2) {\n  var _ref2$length = _ref2.length,\n      length = _ref2$length === void 0 ? Agenda.defaultProps.length : _ref2$length;\n  var end = dates.add(start, length, 'day');\n  return {\n    start: start,\n    end: end\n  };\n};\n\nAgenda.navigate = function (date, action, _ref3) {\n  var _ref3$length = _ref3.length,\n      length = _ref3$length === void 0 ? Agenda.defaultProps.length : _ref3$length;\n\n  switch (action) {\n    case _constants.navigate.PREVIOUS:\n      return dates.add(date, -length, 'day');\n\n    case _constants.navigate.NEXT:\n      return dates.add(date, length, 'day');\n\n    default:\n      return date;\n  }\n};\n\nAgenda.title = function (start, _ref4) {\n  var _ref4$length = _ref4.length,\n      length = _ref4$length === void 0 ? Agenda.defaultProps.length : _ref4$length,\n      localizer = _ref4.localizer;\n  var end = dates.add(start, length, 'day');\n  return localizer.format({\n    start: start,\n    end: end\n  }, 'agendaHeaderFormat');\n};\n\nvar _default = Agenda;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["/home/nazaralieff/Own/App/Web/vtp21-new/node_modules/react-big-calendar/lib/Agenda.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","exports","__esModule","default","_propTypes","_react","_addClass","_removeClass","_width","_scrollbarSize","dates","_constants","_eventLevels","_selection","Agenda","_ref","selected","getters","accessors","localizer","components","length","date","events","headerRef","useRef","dateColRef","timeColRef","contentRef","tbodyRef","useEffect","_adjustHeader","renderDay","day","dayKey","Event","event","AgendaDate","filter","e","inRange","startOf","endOf","map","idx","title","end","start","userProps","eventProp","isSelected","dateLabel","format","first","createElement","rowSpan","className","label","key","style","timeRangeLabel","labelClass","TimeComponent","time","messages","allDay","eq","gt","lt","trim","current","header","firstRow","firstChild","isOverflowing","scrollHeight","clientHeight","_widths","widths","children","width","marginRight","add","range","sort","a","b","Fragment","ref","noEventsInRange","propTypes","process","env","NODE_ENV","array","instanceOf","Date","number","isRequired","object","defaultProps","_ref2","_ref2$length","navigate","action","_ref3","_ref3$length","PREVIOUS","NEXT","_ref4","_ref4$length","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _addClass = _interopRequireDefault(require(\"dom-helpers/addClass\"));\n\nvar _removeClass = _interopRequireDefault(require(\"dom-helpers/removeClass\"));\n\nvar _width = _interopRequireDefault(require(\"dom-helpers/width\"));\n\nvar _scrollbarSize = _interopRequireDefault(require(\"dom-helpers/scrollbarSize\"));\n\nvar dates = _interopRequireWildcard(require(\"./utils/dates\"));\n\nvar _constants = require(\"./utils/constants\");\n\nvar _eventLevels = require(\"./utils/eventLevels\");\n\nvar _selection = require(\"./utils/selection\");\n\nfunction Agenda(_ref) {\n  var selected = _ref.selected,\n      getters = _ref.getters,\n      accessors = _ref.accessors,\n      localizer = _ref.localizer,\n      components = _ref.components,\n      length = _ref.length,\n      date = _ref.date,\n      events = _ref.events;\n  var headerRef = (0, _react.useRef)(null);\n  var dateColRef = (0, _react.useRef)(null);\n  var timeColRef = (0, _react.useRef)(null);\n  var contentRef = (0, _react.useRef)(null);\n  var tbodyRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    _adjustHeader();\n  });\n\n  var renderDay = function renderDay(day, events, dayKey) {\n    var Event = components.event,\n        AgendaDate = components.date;\n    events = events.filter(function (e) {\n      return (0, _eventLevels.inRange)(e, dates.startOf(day, 'day'), dates.endOf(day, 'day'), accessors);\n    });\n    return events.map(function (event, idx) {\n      var title = accessors.title(event);\n      var end = accessors.end(event);\n      var start = accessors.start(event);\n      var userProps = getters.eventProp(event, start, end, (0, _selection.isSelected)(event, selected));\n      var dateLabel = idx === 0 && localizer.format(day, 'agendaDateFormat');\n      var first = idx === 0 ? _react.default.createElement(\"td\", {\n        rowSpan: events.length,\n        className: \"rbc-agenda-date-cell\"\n      }, AgendaDate ? _react.default.createElement(AgendaDate, {\n        day: day,\n        label: dateLabel\n      }) : dateLabel) : false;\n      return _react.default.createElement(\"tr\", {\n        key: dayKey + '_' + idx,\n        className: userProps.className,\n        style: userProps.style\n      }, first, _react.default.createElement(\"td\", {\n        className: \"rbc-agenda-time-cell\"\n      }, timeRangeLabel(day, event)), _react.default.createElement(\"td\", {\n        className: \"rbc-agenda-event-cell\"\n      }, Event ? _react.default.createElement(Event, {\n        event: event,\n        title: title\n      }) : title));\n    }, []);\n  };\n\n  var timeRangeLabel = function timeRangeLabel(day, event) {\n    var labelClass = '',\n        TimeComponent = components.time,\n        label = localizer.messages.allDay;\n    var end = accessors.end(event);\n    var start = accessors.start(event);\n\n    if (!accessors.allDay(event)) {\n      if (dates.eq(start, end)) {\n        label = localizer.format(start, 'agendaTimeFormat');\n      } else if (dates.eq(start, end, 'day')) {\n        label = localizer.format({\n          start: start,\n          end: end\n        }, 'agendaTimeRangeFormat');\n      } else if (dates.eq(day, start, 'day')) {\n        label = localizer.format(start, 'agendaTimeFormat');\n      } else if (dates.eq(day, end, 'day')) {\n        label = localizer.format(end, 'agendaTimeFormat');\n      }\n    }\n\n    if (dates.gt(day, start, 'day')) labelClass = 'rbc-continues-prior';\n    if (dates.lt(day, end, 'day')) labelClass += ' rbc-continues-after';\n    return _react.default.createElement(\"span\", {\n      className: labelClass.trim()\n    }, TimeComponent ? _react.default.createElement(TimeComponent, {\n      event: event,\n      day: day,\n      label: label\n    }) : label);\n  };\n\n  var _adjustHeader = function _adjustHeader() {\n    if (!tbodyRef.current) return;\n    var header = headerRef.current;\n    var firstRow = tbodyRef.current.firstChild;\n    if (!firstRow) return;\n    var isOverflowing = contentRef.current.scrollHeight > contentRef.current.clientHeight;\n    var _widths = [];\n    var widths = _widths;\n    _widths = [(0, _width.default)(firstRow.children[0]), (0, _width.default)(firstRow.children[1])];\n\n    if (widths[0] !== _widths[0] || widths[1] !== _widths[1]) {\n      dateColRef.current.style.width = _widths[0] + 'px';\n      timeColRef.current.style.width = _widths[1] + 'px';\n    }\n\n    if (isOverflowing) {\n      (0, _addClass.default)(header, 'rbc-header-overflowing');\n      header.style.marginRight = (0, _scrollbarSize.default)() + 'px';\n    } else {\n      (0, _removeClass.default)(header, 'rbc-header-overflowing');\n    }\n  };\n\n  var messages = localizer.messages;\n  var end = dates.add(date, length, 'day');\n  var range = dates.range(date, end, 'day');\n  events = events.filter(function (event) {\n    return (0, _eventLevels.inRange)(event, dates.startOf(date, 'day'), dates.endOf(end, 'day'), accessors);\n  });\n  events.sort(function (a, b) {\n    return +accessors.start(a) - +accessors.start(b);\n  });\n  return _react.default.createElement(\"div\", {\n    className: \"rbc-agenda-view\"\n  }, events.length !== 0 ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"table\", {\n    ref: headerRef,\n    className: \"rbc-agenda-table\"\n  }, _react.default.createElement(\"thead\", null, _react.default.createElement(\"tr\", null, _react.default.createElement(\"th\", {\n    className: \"rbc-header\",\n    ref: dateColRef\n  }, messages.date), _react.default.createElement(\"th\", {\n    className: \"rbc-header\",\n    ref: timeColRef\n  }, messages.time), _react.default.createElement(\"th\", {\n    className: \"rbc-header\"\n  }, messages.event)))), _react.default.createElement(\"div\", {\n    className: \"rbc-agenda-content\",\n    ref: contentRef\n  }, _react.default.createElement(\"table\", {\n    className: \"rbc-agenda-table\"\n  }, _react.default.createElement(\"tbody\", {\n    ref: tbodyRef\n  }, range.map(function (day, idx) {\n    return renderDay(day, events, idx);\n  }))))) : _react.default.createElement(\"span\", {\n    className: \"rbc-agenda-empty\"\n  }, messages.noEventsInRange));\n}\n\nAgenda.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  events: _propTypes.default.array,\n  date: _propTypes.default.instanceOf(Date),\n  length: _propTypes.default.number.isRequired,\n  selected: _propTypes.default.object,\n  accessors: _propTypes.default.object.isRequired,\n  components: _propTypes.default.object.isRequired,\n  getters: _propTypes.default.object.isRequired,\n  localizer: _propTypes.default.object.isRequired\n} : {};\nAgenda.defaultProps = {\n  length: 30\n};\n\nAgenda.range = function (start, _ref2) {\n  var _ref2$length = _ref2.length,\n      length = _ref2$length === void 0 ? Agenda.defaultProps.length : _ref2$length;\n  var end = dates.add(start, length, 'day');\n  return {\n    start: start,\n    end: end\n  };\n};\n\nAgenda.navigate = function (date, action, _ref3) {\n  var _ref3$length = _ref3.length,\n      length = _ref3$length === void 0 ? Agenda.defaultProps.length : _ref3$length;\n\n  switch (action) {\n    case _constants.navigate.PREVIOUS:\n      return dates.add(date, -length, 'day');\n\n    case _constants.navigate.NEXT:\n      return dates.add(date, length, 'day');\n\n    default:\n      return date;\n  }\n};\n\nAgenda.title = function (start, _ref4) {\n  var _ref4$length = _ref4.length,\n      length = _ref4$length === void 0 ? Agenda.defaultProps.length : _ref4$length,\n      localizer = _ref4.localizer;\n  var end = dates.add(start, length, 'day');\n  return localizer.format({\n    start: start,\n    end: end\n  }, 'agendaHeaderFormat');\n};\n\nvar _default = Agenda;\nexports.default = _default;\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}